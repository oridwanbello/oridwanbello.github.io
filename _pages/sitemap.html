---
layout: default
title: "Sitemap"
permalink: /sitemap/
---

<style>
    .sitemap-container {
        max-width: 800px;
        margin: 20px auto;
        padding: 30px;
        border-radius: 10px;
        box-shadow: 0 0px 16px rgba(0, 0, 0, 0.3);
    }

    /* Style for the H1 title to center it */
    .sitemap-container h1 {
        text-align: center;
        margin-bottom: 20px;
    }

    .sitemap-section {
        margin-bottom: 30px;
    }

    .sitemap-section h2 {
        border-bottom: 1px solid; /* Uses current text color for border */
        padding-bottom: 10px;
        margin-bottom: 15px;
    }

    .sitemap-list {
        list-style: none;
        padding-left: 0;
    }

    .sitemap-list li {
        margin-bottom: 8px;
    }

    .sitemap-list a {
        text-decoration: none;
    }

    .sitemap-list a:hover {
        text-decoration: underline;
    }

    /* Media query for responsiveness */
    @media (max-width: 768px) {
        .sitemap-container {
            margin: 10px 10px; /* Reduced margin for smaller screens */
            padding: 20px; /* Reduced padding for smaller screens */
            box-sizing: border-box;
        }
    }
    /* Note: archive-single.html will style the individual items if you are using it.
       If you are using .sitemap-list for all sections, the styles above will apply. */
</style>

<div class="sitemap-container">
    <h1>Sitemap</h1>

    {% include base_path %}
    <p>
        A list of all the posts and pages found on the site. For you robots out
        there, there is an
        <a href="{{ base_path }}/sitemap.xml">XML version</a> available for
        digesting as well.
    </p>

    <div class="sitemap-section">
        <h2>Pages</h2>
        {% assign pages_for_sitemap_objects = "" | split: ',' %} {% for
        page_item in site.pages %}
        <!-- DEBUG: Processing page_item.path = {{ page_item.path | escape }} -->
        {% assign is_in_pages_folder = false %} {% if page_item.path and
        page_item.path | startswith: '_pages/' %} {% assign is_in_pages_folder =
        true %} {% endif %}
        <!-- DEBUG: is_in_pages_folder = {{ is_in_pages_folder }} -->
        <!-- DEBUG: page_item.sitemap = {{ page_item.sitemap | inspect }} -->
        <!-- DEBUG: page_item.url = {{ page_item.url | escape }} -->

        {% if is_in_pages_folder and page_item.sitemap == true and page_item.url
        != "/sitemap/" and page_item.url != "/404.html" %}
        <!-- DEBUG: ADDING TO SITEMAP: {{ page_item.path | escape }} -->
        {% assign display_name = page_item.title %} {% if display_name == "" or
        display_name == nil %} {% if page_item.url == "/" %} {% assign
        display_name = "Home" %} {% else %} {% assign temp_url = page_item.url |
        default: "" %} {% assign segments = temp_url | split: '/' %} {% assign
        valuable_segments = segments | where_exp: "item", "item != ''" %} {% if
        valuable_segments.size > 0 %} {% assign last_segment = valuable_segments
        | last %} {% assign display_name = last_segment | remove: '.html' |
        replace: '-', ' ' | capitalize %} {% else %} {% assign temp_basename =
        page_item.basename | default: "" %} {% assign temp_extname =
        page_item.extname | default: "" %} {% if temp_extname != "" %} {% assign
        filename_no_ext = temp_basename | remove: temp_extname %} {% else %} {%
        assign filename_no_ext = temp_basename %} {% endif %} {% assign
        display_name = filename_no_ext | replace: '-', ' ' | capitalize %} {%
        endif %} {% endif %} {% endif %} {% comment %} Final fallback if
        display_name is still empty {% endcomment %} {% if display_name == "" or
        display_name == nil %} {% assign display_name = page_item.url | default:
        "Untitled Page" %} {% endif %} {% assign safe_display_name_for_json =
        display_name | default: "Untitled" %} {% assign safe_url_for_json =
        page_item.url | default: "#" %} {% assign page_data_string = "{
        \"name\": " | append: (safe_display_name_for_json | json) | append: ",
        \"url\": " | append: (safe_url_for_json | json) | append: " }" %} {%
        assign page_data = page_data_string | parse_json %} {% if page_data %}
        {% assign pages_for_sitemap_objects = pages_for_sitemap_objects | push:
        page_data %} {% else %}
        <!-- DEBUG: FAILED TO PARSE JSON for {{ page_item.path | escape }} -->
        {% endif %} {% else %}
        <!-- DEBUG: SKIPPING: {{ page_item.path | escape }} (is_in_pages_folder: {{ is_in_pages_folder }}, sitemap: {{ page_item.sitemap | inspect }}, url: {{ page_item.url | escape }}) -->
        {% endif %} {% endfor %} {% assign sorted_pages =
        pages_for_sitemap_objects | sort: "name" %}
        <ul class="sitemap-list">
            {% for p_data in sorted_pages %}
            <li>
                <a href="{{ p_data.url | relative_url }}">{{ p_data.name }}</a>
            </li>
            {% endfor %}
        </ul>
    </div>

    <div class="sitemap-section">
        <h2>Posts</h2>
        {% for post_item in site.posts %} {% unless post_item.sitemap == false
        %} {% assign post = post_item %} {% include archive-single.html %} {%
        endunless %} {% endfor %}
    </div>

    {% for collection in site.collections %} {% unless collection.output ==
    false or collection.label == "posts" %} {% assign collection_docs_to_display
    = collection.docs | where_exp: "item", "item.sitemap != false" %} {% if
    collection_docs_to_display.size > 0 %}
    <div class="sitemap-section">
        <h2>{{ collection.label }}</h2>
        {% for doc_item in collection_docs_to_display %} {% assign post =
        doc_item %} {% include archive-single.html %} {% endfor %}
    </div>
    {% endif %} {% endunless %} {% endfor %}
</div>
